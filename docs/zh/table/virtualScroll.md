# 虚拟滚动

-   默认行列都是虚拟滚动的不需要设置，可以支撑 20w 以上数据。
-   显示的格子越少性能越好
-   即使虚拟化的表格是高效的，但是当数据负载过大时，网络和内存容量也会成为应用程序的瓶颈。

## 例子

::: demo 虚拟滚动例子

virtualScroll/base
h:700px
:::

## 动态行高

表格支持动态行高功能，可以根据单元格内容自动调整行高。通过在列配置中设置 `autoRowHeight: true` 并提供自定义渲染方法，可以实现动态行高。

### 记录最大行高

当使用动态行高功能时，横向滚动可能会导致行高变化的问题：

- **问题**：当撑高的单元格横向滚出视野后，行高会变小，导致整体滚动高度变化
- **解决方案**：开启 `REMEMBER_MAX_ROW_HEIGHT` 配置

#### 配置说明

```javascript
{
    REMEMBER_MAX_ROW_HEIGHT: true  // 记录每行的最大渲染高度
}
```

**功能特性：**

1. **按行记录**：使用 `rowKey` 为每一行单独记录最大高度，不同行互不影响
2. **记录最大高度**：表格会记录每一行曾经渲染过的最大高度
3. **高度只增不减**：横向滚动时，即使高单元格滚出视野，行高也不会变小
4. **按需撑开**：首次渲染按默认行高或已知最大行高，后续可能撑开
5. **保持稳定**：避免横向滚动导致的整体滚动高度变化
6. **自动清理**：数据刷新（`loadData`、`setData`）时自动清空所有最大行高记录

#### API 方法

```javascript
// 清除最大行高记录（重置所有行高）
table.clearMaxRowHeight();
```

#### 使用示例

::: demo 记录最大行高示例

virtualScroll/remember-max-row-height
h:700px
:::

**适用场景：**

- 表格包含多列且需要横向滚动
- 使用了动态行高功能（`autoRowHeight`）
- 需要保持滚动位置的稳定性
- 不同列的内容长度差异较大

